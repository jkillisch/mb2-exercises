<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>rasch_modell – Übungsheft</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5bf7ca59d8cc7f7a8155307016a58e21.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Übungsheft</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">FAQs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../sections/software/software.html"> 
<span class="menu-text">Software und Literatur</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-themenabschnitte" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Themenabschnitte</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-themenabschnitte">    
        <li>
    <a class="dropdown-item" href="../../sections/rechenkompetenzen/rechenkompetenzen.html">
 <span class="dropdown-text">1. Grundlegende Rechenkompetenzen</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../sections/rechenkompetenzen_diagnostik/rechenkompetenzen_diagnostik.html">
 <span class="dropdown-text">2. Rechenkompetenzen der Diagnostik</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../sections/diagnostischer_prozess/diagnostischer_prozess.html">
 <span class="dropdown-text">3. Der Diagnostische Prozess</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../sections/konfidenzintervalle/konfidenzintervalle.html">
 <span class="dropdown-text">4. Konfidenzintervalle</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../sections/datenmatrizen/datenmatrizen.html">
 <span class="dropdown-text">5. Datenmatrizen</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../sections/rasch_modell/rasch_modell.html">
 <span class="dropdown-text">6. Das Rasch-Modell</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#das-rasch-modell" id="toc-das-rasch-modell" class="nav-link active" data-scroll-target="#das-rasch-modell">Das Rasch-Modell</a>
  <ul class="collapse">
  <li><a href="#notation-von-wahrscheinlichkeiten-im-zusammenhang-mit-der-datenmatrix" id="toc-notation-von-wahrscheinlichkeiten-im-zusammenhang-mit-der-datenmatrix" class="nav-link" data-scroll-target="#notation-von-wahrscheinlichkeiten-im-zusammenhang-mit-der-datenmatrix">Notation von Wahrscheinlichkeiten im Zusammenhang mit der Datenmatrix</a></li>
  <li><a href="#das-rasch-modell-1" id="toc-das-rasch-modell-1" class="nav-link" data-scroll-target="#das-rasch-modell-1">Das Rasch-Modell</a>
  <ul class="collapse">
  <li><a href="#theta-und-beta" id="toc-theta-und-beta" class="nav-link" data-scroll-target="#theta-und-beta"><span class="math inline">\(\theta\)</span> und <span class="math inline">\(\beta\)</span></a></li>
  <li><a href="#antwortwahrscheinlichkeiten" id="toc-antwortwahrscheinlichkeiten" class="nav-link" data-scroll-target="#antwortwahrscheinlichkeiten">Antwortwahrscheinlichkeiten</a></li>
  </ul></li>
  <li><a href="#item-characteristic-curves-icc" id="toc-item-characteristic-curves-icc" class="nav-link" data-scroll-target="#item-characteristic-curves-icc">Item Characteristic Curves (ICC)</a></li>
  <li><a href="#annahmen-und-eigenschaften-des-rasch-modells" id="toc-annahmen-und-eigenschaften-des-rasch-modells" class="nav-link" data-scroll-target="#annahmen-und-eigenschaften-des-rasch-modells">Annahmen und Eigenschaften des Rasch-Modells</a>
  <ul class="collapse">
  <li><a href="#suffiziente-statistiken" id="toc-suffiziente-statistiken" class="nav-link" data-scroll-target="#suffiziente-statistiken">Suffiziente Statistiken</a></li>
  <li><a href="#lokale-stochastische-unabhängigkeit" id="toc-lokale-stochastische-unabhängigkeit" class="nav-link" data-scroll-target="#lokale-stochastische-unabhängigkeit">Lokale Stochastische Unabhängigkeit</a></li>
  <li><a href="#interpretation-des-rasch-modells" id="toc-interpretation-des-rasch-modells" class="nav-link" data-scroll-target="#interpretation-des-rasch-modells">Interpretation des Rasch-Modells</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block"></header>




<section id="das-rasch-modell" class="level1">
<h1>Das Rasch-Modell</h1>
<section id="notation-von-wahrscheinlichkeiten-im-zusammenhang-mit-der-datenmatrix" class="level2">
<h2 class="anchored" data-anchor-id="notation-von-wahrscheinlichkeiten-im-zusammenhang-mit-der-datenmatrix">Notation von Wahrscheinlichkeiten im Zusammenhang mit der Datenmatrix</h2>
<div class="callout-aufgabe">
<p>Was bedeuten die folgenden Wahrscheinlichkeiten inhaltlich?</p>
<ol type="a">
<li><p><span class="math inline">\(P(U_{14} = u_{14})\)</span></p></li>
<li><p><span class="math inline">\(P(U_{1m} = u_{1m})\)</span></p></li>
<li><p><span class="math inline">\(P(U_{im} = 0)\)</span></p></li>
<li><p><span class="math inline">\(P(U_{2j} = 1)\)</span></p></li>
<li><p><span class="math inline">\(P(U_{14} = u_{15})\)</span></p></li>
<li><p><span class="math inline">\(P(U_{ij} = 1)\)</span></p></li>
<li><p><span class="math inline">\(P(U_{ij} = 0)\)</span></p></li>
<li><p><span class="math inline">\(P(U_{ij} = u_{ij})\)</span></p></li>
</ol>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ol type="a">
<li><p>Wahrscheinlichkeit, dass die Antwort von Person 1 auf Item 4 der tatsächlich beobachteten Antwort <span class="math inline">\(u_{14}\)</span> entspricht.</p></li>
<li><p>Wahrscheinlichkeit, dass die Antwort von Person 1 auf das letzte Item <span class="math inline">\(m\)</span> der tatsächlich beobachteten Antwort <span class="math inline">\(u_{1m}\)</span> entspricht.</p></li>
<li><p>Wahrscheinlichkeit, dass Person <span class="math inline">\(i\)</span> auf dem letzten Item <span class="math inline">\(m\)</span> die Antwort <span class="math inline">\(0\)</span> gibt.</p></li>
<li><p>Wahrscheinlichkeit, dass Person 2 auf einem bestimmten Item <span class="math inline">\(j\)</span> die Antwort <span class="math inline">\(1\)</span> gibt.</p></li>
<li><p>Wahrscheinlichkeit, dass die Antwort von Person 1 auf Item 4 dem beobachteten Wert auf Item 5 (<span class="math inline">\(u_{15}\)</span>) entspricht.</p></li>
<li><p>Wahrscheinlichkeit, dass Person <span class="math inline">\(i\)</span> auf Item <span class="math inline">\(j\)</span> die Antwort <span class="math inline">\(1\)</span> gibt.</p></li>
<li><p>Wahrscheinlichkeit, dass Person <span class="math inline">\(i\)</span> auf Item <span class="math inline">\(j\)</span> die Antwort <span class="math inline">\(0\)</span> gibt.</p></li>
<li><p>Wahrscheinlichkeit, dass Person <span class="math inline">\(i\)</span> auf Item <span class="math inline">\(j\)</span> der tatsächlich beobachteten Antwort <span class="math inline">\(u_{ij}\)</span> entspricht.</p></li>
</ol>
</div>
</div>
</div>
<p>Die Wahrscheinlichkeiten in dieser Aufgabe sind teilweise inhaltlich etwas ungewöhnlich. Einer Wahrscheinlichkeit wie <span class="math inline">\(P(U_{14} = u_{15})\)</span> werden Sie in der IRT vermutlich nie begegnen. Dennoch ist es hilfreich, die Notation Zeichen für Zeichen lesen zu können. Den Wahrscheinlichkeiten in den Aufgaben (f)-(h) werden Sie hingegen noch öfter begegnen.</p>
<div class="callout-aufgabe">
<p>Betrachten Sie die binäre Datenmatrix aus der Aufgabe zu Summenscores. Welche der folgenden Aufgaben wäre prinzipiell lösbar? Begründen Sie.</p>
<ul>
<li><p>Lesen Sie <span class="math inline">\(U_{12}\)</span> aus der binären Datenmatrix ab.</p></li>
<li><p>Lesen Sie <span class="math inline">\(u_{23}\)</span> aus der binären Datenmatrix ab.</p></li>
<li><p>Lesen Sie <span class="math inline">\(P(U_{14} = u_{14})\)</span> aus der binären Datenmatrix ab.</p></li>
</ul>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<ul>
<li><p>Nicht lösbar</p></li>
<li><p>Lösbar</p></li>
<li><p>Nicht lösbar</p></li>
</ul>
</div>
</div>
</div>
</section>
<section id="das-rasch-modell-1" class="level2">
<h2 class="anchored" data-anchor-id="das-rasch-modell-1">Das Rasch-Modell</h2>
<p>Das Rasch-Modell definiert explizit die Wahrscheinlichkeit einer Testantwort <span class="math inline">\(u_{ij}\)</span>:</p>
<p><span class="math display">\[\begin{equation}
    P(U_{ij} = u_{ij} | \theta_?, \beta_?) =
    \frac{
        exp(u_{ij}(\theta_? - \beta_?))
    }{
        1 + exp(\theta_? - \beta_?)
    }
\end{equation}\]</span></p>
<section id="theta-und-beta" class="level3">
<h3 class="anchored" data-anchor-id="theta-und-beta"><span class="math inline">\(\theta\)</span> und <span class="math inline">\(\beta\)</span></h3>
<div class="callout-aufgabe">
<p>Wofür stehen <span class="math inline">\(\theta\)</span> und <span class="math inline">\(\beta\)</span> im Rasch-Modell?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math inline">\(\theta\)</span>: Personenparameter</p>
<p><span class="math inline">\(\beta\)</span>: Itemparameter</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Die Indizes für <span class="math inline">\(\theta\)</span> und <span class="math inline">\(\beta\)</span> fehlen in der Formel zum Rasch-Modell. Versuchen Sie, die Indizes zu ergänzen, ohne auf den Folien oder in der Formelsammlung nachzusehen. Überprüfen Sie Ihre Antwort mit der Formelsammlung.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math display">\[\begin{equation}
    P(U_{ij} = u_{ij} | \theta_i, \beta_j) =
    \frac{
        exp(u_{ij}(\theta_i - \beta_j))
    }{
        1 + exp(\theta_i - \beta_j)
    }
\end{equation}\]</span></p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>In welchem Wertebereich sind <span class="math inline">\(\theta\)</span> und <span class="math inline">\(\beta\)</span> jeweils definiert?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math inline">\(\theta, \beta \in \mathbb{R}\)</span></p>
</div>
</div>
</div>
</section>
<section id="antwortwahrscheinlichkeiten" class="level3">
<h3 class="anchored" data-anchor-id="antwortwahrscheinlichkeiten">Antwortwahrscheinlichkeiten</h3>
<div class="callout-aufgabe">
<p>Sie haben in der ersten Aufgabe in diesem Abschnitt geübt, die Notation von Wahrscheinlichkeiten für Ereignisse in der Datenmatrix zu lesen. Dieses Wissen können Sie hier direkt anwenden. Erklären Sie die linke Seite der Gleichung zum Rasch Modell mit Worten.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Wahrscheinlichkeit (<span class="math inline">\(P\)</span>), dass die Antwort von Person <span class="math inline">\(i\)</span> auf Item <span class="math inline">\(j\)</span> (Zufallsvariable; <span class="math inline">\(U_{ij}\)</span>), dem beobachteten Wert von Person <span class="math inline">\(i\)</span> auf item <span class="math inline">\(j\)</span> (<span class="math inline">\(u_{ij}\)</span>) entspricht (<span class="math inline">\(=\)</span>), gegeben (<span class="math inline">\(|\)</span>) des Personenparameters von Person <span class="math inline">\(i\)</span> (<span class="math inline">\(\theta_i\)</span>), und des Itemparameters von Item <span class="math inline">\(j\)</span> (<span class="math inline">\(\beta_j\)</span>).</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Leiten Sie aus der allgemeinen Formel der Antwortwahrscheinlichkeit im Rasch-Modell (siehe oben) je eine Formel für die Lösungs- und Nichtlösewahrscheinlichkeit im Rasch-Modell her. Überprüfen Sie Ihr Ergebnis mit der Formelsammlung, die Ihnen auch in der Prüfung zur Verfügung stehen wird.</p>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled" title="Tipp">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Um die Aufgaben zu Lösen, müssen Sie jeweils für die Lösungs- und Nicht-Lösewahrscheinlichkeit den Wert von <span class="math inline">\(u_{ij}\)</span> ersetzen und vereinfachen. Sie schaffen das! : -)</p>
</div>
</div>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled" title="Tipp: Vollständige Herangehensweise">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp: Vollständige Herangehensweise
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Fall 1: Lösewahrscheinlichkeit</strong></p>
<p>Nehmen Sie die Formel für die Antwortwahrscheinlichkeit im Rasch-Modell und setzen Sie den beobachteten Wert, <span class="math inline">\(u_{ij}\)</span> auf <span class="math inline">\(1\)</span>. Wenn Sie nun noch einmal vereinfachen, sind Sie schon am Ziel.</p>
<p><strong>Fall 2: Nicht-Lösewahrscheinlichkeit</strong></p>
<p>Nehmen Sie die Formel für die Antwortwahrscheinlichkeit im Rasch-Modell und setzen Sie den beobachteten Wert, <span class="math inline">\(u_{ij}\)</span> auf <span class="math inline">\(0\)</span>. Nun folgenden noch zwei Vereinfachungen: (1) Wenn Sie eine Zahl mit <span class="math inline">\(0\)</span> multiplizieren, erhalten Sie den Wert <span class="math inline">\(0\)</span>. (2) Das Ergebnis von <span class="math inline">\(exp(0)\)</span> haben Sie in den grundlegenden Rechenkompetenzen schon kennengelernt.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Gegeben ist die allgemeine Formel für die Antwortwahrscheinlichkeit im Rasch-Modell:</p>
<p><span class="math display">\[\begin{equation}
P(U_{ij} = u_{ij} | \theta_i, \beta_j) =
    \frac{
        exp(u_{ij}(\theta_i - \beta_j))
    }{
        1 + exp(\theta_i - \beta_j)
    }
\end{equation}\]</span></p>
<p><strong>Fall 1: Lösewahrscheinlichkeit</strong></p>
<p>Die Lösewahrscheinlichkeit erhalten Sie, wenn Sie <span class="math inline">\(u_{ij} = 1\)</span> setzen:</p>
<p><span class="math inline">\(P(U_{ij} = 1 | \theta_i, \beta_j) =
    \frac{
        exp(1 \cdot (\theta_i - \beta_j))
    }{
        1 + exp(\theta_i - \beta_j)
    } =
    \frac{
        exp((\theta_i - \beta_j))
    }{
        1 + exp(\theta_i - \beta_j)
    }\)</span></p>
<p><strong>Fall 2: Nicht-Lösewahrscheinlichkeit</strong></p>
<p>Die Nicht-Lösewahrscheinlichkeit erhalten Sie, wenn Sie <span class="math inline">\(u_{ij} = 0\)</span> setzen:</p>
<p><span class="math inline">\(P(U_{ij} = 0 | \theta_i, \beta_j) =
    \frac{
        exp(0 \cdot (\theta_i - \beta_j))
    }{
        1 + exp(\theta_i - \beta_j)
    }=
    \frac{
        exp(0)
    }{
        1 + exp(\theta_i - \beta_j)
    }
    =\frac{
        1
    }{
        1 + exp(\theta_i - \beta_j)
    }\)</span></p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Verwenden Sie die alternative Schreibweise der logistischen Funktion aus den grundlegenden Rechenkompetenzen, um eine Schreibweise der Lösungswahrscheinlichkeit zu erhalten, die man leichter im Taschenrechner eingeben kann.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math inline">\(P(U_{ij} = 0 | \theta_i, \beta_j) =
    \frac{
        exp(\theta_i - \beta_j)
    }{
        1 + exp(\theta_i - \beta_j)
    }=
    \frac{
        1
    }{
        1 + exp(-(\theta_i - \beta_j))
    }=
    \frac{
        1
    }{
        1 + exp(-\theta_i + \beta_j))
    }=
    \frac{
        1
    }{
        1 + exp(\beta_j-\theta_i)
    }\)</span></p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Berechnen Sie die Wahrscheinlichkeit, dass eine Person <span class="math inline">\(i\)</span> mit <span class="math inline">\(\theta_i = 2\)</span> ein Item <span class="math inline">\(1\)</span> mit <span class="math inline">\(\beta_1 = -2\)</span> löst. Berechnen Sie die Wahrscheinlichkeit, dass die selbe Person ein Item <span class="math inline">\(2\)</span> mit <span class="math inline">\(\beta_2 = 0\)</span> nicht löst.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><strong>Lösewahrscheinlichkeit</strong></p>
<p><span class="math inline">\(P(U_{ij} = 0 | \theta_i, \beta_j) =
    \frac{
        1
    }{
        1 + exp(\beta_j-\theta_i)
    }=
    \frac{
        1
    }{
        1 + exp(-2-2)
    }\approx.98\)</span></p>
<p><strong>Nicht-Lösewahrscheinlichkeit</strong></p>
<p><span class="math inline">\(P(U_{ij} = 0 | \theta_i = 2, \beta_1 = -2) =
\frac{
        1
    }{
        1 + exp(\theta_i - \beta_j)
    }=
    \frac{
        1
    }{
        1 + exp(2 + 2)
    }=
    \frac{
        1
    }{
        1 + exp(4)
    }\approx 0.02\)</span></p>
<p>Sie können Ihr Ergebnis auch ungefähr anhand der ICC (siehe nächster Aufgabenblock) überprüfen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>teachIRT<span class="sc">::</span><span class="fu">icc_rasch</span>(<span class="at">beta =</span> <span class="sc">-</span><span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>    ggplot2<span class="sc">::</span><span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">2</span>, <span class="at">linetype =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Den Umgang mit Lösungswahrscheinlichkeiten im Rasch- und den noch folgenden IRT-Modellen sollten Sie im Schlaf beherrschen. Mit der Funktion <code>teachIRT::p_rasch(theta, beta)</code> können Sie sich zum Üben selbst Aufgaben zur Berechnung von Lösungswahrscheinlichkeiten stellen. Kopieren Sie dazu einfach den R-Code in Ihre IDE (z.B. RStudio):</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Zufällige Parameterwerte ziehen</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>theta <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>beta <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Personenparameter:"</span>, theta) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Personenparameter: -1"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Itemparameter:"</span>, beta) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Itemparameter: 0.08"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>loesung <span class="ot">&lt;-</span> teachIRT<span class="sc">::</span><span class="fu">p_rasch</span>(theta, beta)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Lösewahrscheinlichkeit:"</span>, loesung) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Lösewahrscheinlichkeit: 0.253506016662338"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">"Nicht-Lösewahrscheinlichkeit:"</span>, <span class="dv">1</span><span class="sc">-</span>loesung) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Nicht-Lösewahrscheinlichkeit: 0.746493983337662"</code></pre>
</div>
</div>
</section>
</section>
<section id="item-characteristic-curves-icc" class="level2">
<h2 class="anchored" data-anchor-id="item-characteristic-curves-icc">Item Characteristic Curves (ICC)</h2>
<p>In der Vorlesung haben Sie sogenannte Item Characteristic Curves (ICCs) kennengelernt.</p>
<div class="callout-aufgabe">
<p>Was befindet sich bei ICCs jeweils auf der x- und y-Achse?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>y-Achse: Die Wahrscheinlichkeit ein Item zu lösen</p>
<p>x-Achse: Fähigkeitskontinuum</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Erzeugen Sie händisch die ICC für ein Item mit <span class="math inline">\(\beta = 1\)</span> im Rasch-Modell.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Sie könnten Näherungsweise die folgenden Wahrscheinlichkeiten berechnen und in einem Graph eintragen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>theta <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">5</span>, <span class="dv">5</span>, <span class="dv">1</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(theta)) {</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Lösungswahrscheinlichkeit bei einer Fähigkeit von"</span>, </span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>        theta[i], <span class="st">":"</span>,</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">round</span>(teachIRT<span class="sc">::</span><span class="fu">p_rasch</span>(theta[i], <span class="at">beta =</span> <span class="dv">1</span>), <span class="dv">2</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        ) <span class="sc">|&gt;</span> <span class="fu">print</span>()</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von -5 : 0"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von -4 : 0.01"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von -3 : 0.02"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von -2 : 0.05"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von -1 : 0.12"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von 0 : 0.27"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von 1 : 0.5"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von 2 : 0.73"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von 3 : 0.88"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von 4 : 0.95"
[1] "Lösungswahrscheinlichkeit bei einer Fähigkeit von 5 : 0.98"</code></pre>
</div>
</div>
<p>Zur Kontrolle:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>teachIRT<span class="sc">::</span><span class="fu">icc_rasch</span>(<span class="at">beta =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Lesen Sie die Itemschwierigkeiten der Items aus den folgenden ICCs ab:</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math inline">\(\beta_1 = -1.5\)</span></p>
<p><span class="math inline">\(\beta_2 = 0\)</span></p>
<p><span class="math inline">\(\beta_2 = 1\)</span></p>
<p><span class="math inline">\(\beta_2 = 2.5\)</span></p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Plotten Sie die ICC für ein Item mit <span class="math inline">\(\beta = -1\)</span> mit Hilfe der Funktion <code>teachIRT::icc_rasch()</code> und probieren Sie aus, was passiert, wenn Sie andere Werte einsetzen.</p>
<p>Mit <code>?teachIRT::icc_rasch()</code> können Sie sich die Hilfe-Datei anzeigen lassen.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>teachIRT<span class="sc">::</span><span class="fu">icc_rasch</span>(<span class="at">beta =</span> <span class="sc">-</span><span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>teachIRT<span class="sc">::</span><span class="fu">icc_rasch</span>(<span class="at">beta =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-6-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Die ICC wird entlang der <span class="math inline">\(\theta\)</span>-Achse verschoben.</p>
</div>
</div>
</div>
<p>Das Rasch Modell kann in zwei Komponenten aufgeteilt werden: (1) Der lineare Prädiktor, <span class="math inline">\(\theta_i - \beta_j\)</span> und (2) die logistische Link-Funktion, <span class="math inline">\(f(x) = \frac{exp(x)}{1 + exp(x)}\)</span>. Setzt man den linearen Prädiktor für <span class="math inline">\(x\)</span> in die logistische Funktion ein, entsteht das Rasch-Modell.</p>
<div class="callout-aufgabe">
<p>Welchen Zweck erfüllt die logistische Link-Funktion im Rasch-Modell?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Funktion bildet den Wert des linearen Prädiktors (reelle Zahl) auf eine Wahrscheinlichkeit, also einen Wert im Intervall <span class="math inline">\([0, 1]\)</span> ab. Aus der Statistik wissen Sie vielleicht schon, dass man binäre Variablen nicht mit einer linearen Regression vorhersagen sollte. Das gleiche Prinzip gilt in der IRT. Mit Hilfe der Link-Funktion wird aus dem linearen Prädiktor <span class="math inline">\(\theta_i - \beta_j\)</span> eine logistische Regression, dessen Prädiktoren ein Personen- und ein Itemparameter sind.</p>
</div>
</div>
</div>
</section>
<section id="annahmen-und-eigenschaften-des-rasch-modells" class="level2">
<h2 class="anchored" data-anchor-id="annahmen-und-eigenschaften-des-rasch-modells">Annahmen und Eigenschaften des Rasch-Modells</h2>
<section id="suffiziente-statistiken" class="level3">
<h3 class="anchored" data-anchor-id="suffiziente-statistiken">Suffiziente Statistiken</h3>
<p>Gegeben ist eine binäre Datenmatrix:</p>
<p><span class="math display">\[\begin{equation}
    \label{eq:databin}
    \textbf{U} =
    \begin{bmatrix}
        1 &amp; 0 &amp; 1 &amp; 1 &amp; 1 &amp; 1 \\
        1 &amp; 1 &amp; 0 &amp; 1 &amp; 1 &amp; 0 \\
        1 &amp; 1 &amp; 1 &amp; 1 &amp; 0 &amp; 1 \\
        0 &amp; 1 &amp; 1 &amp; 0 &amp; 1 &amp; 1 \\
    \end{bmatrix}
\end{equation}\]</span></p>
<div class="callout-aufgabe">
<p>Welche Personen werden die gleichen geschätzten Fähigkeiten erhalten, wenn Sie ein Rasch-Modell mit Hilfe dieser Datenmatrix schätzen?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Probieren wir es aus!</p>
<p>Die Datenmatrix in R hinterlegen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Matrix in R hinterlegen</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>U <span class="ot">&lt;-</span> <span class="fu">matrix</span>(</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>,</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>,</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">4</span>,</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">byrow =</span> <span class="cn">TRUE</span></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Summenscores berechnen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">rowSums</span>(U)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5 4 5 4</code></pre>
</div>
</div>
<p>Aufgrund der Eigenschaft suffizienter Statistiken, sollten Personen <span class="math inline">\(1\)</span> und <span class="math inline">\(3\)</span> sowie Personen <span class="math inline">\(2\)</span> und <span class="math inline">\(4\)</span> den gleichen Personenparameter erhalten. Diese Personen haben nämlich die gleichen Summenscores.</p>
<p>Rasch-Modell schätzen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>rasch <span class="ot">&lt;-</span> eRm<span class="sc">::</span><span class="fu">RM</span>(U)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Personenparameter anzeigen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>eRm<span class="sc">::</span><span class="fu">person.parameter</span>(rasch)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Person Parameters:

 Raw Score  Estimate Std.Error
         4 0.6931467  0.866040
         5 1.6094364  1.095503</code></pre>
</div>
</div>
<p>Von eRm erhalten wir nicht für jede Person einen Personenparameter, sondern einen Wert pro Summenscore. Das passt zu unserer zuvor formulierten Erwartung.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Welche Items werden die gleichen geschätzten Schwierigkeiten erhalten, wenn Sie ein Rasch-Modell mit Hilfe dieser Datenmatrix schätzen?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Da die Eigenschaft suffizienter Statistiken im Rasch-Modell für Personen- und Itemparameter gilt, sollten alle Items, die gleich häufig gelöst wurden, auch den gleichen Schwierigkeitsparameter erhalten. Die Lösungshäufigkeiten können wir wie die Summenscores berechnen. Das Summenzeichen läuft nun aber über den Personen- statt den Item-Index.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colSums</span>(U)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 3 3 3 3 3 3</code></pre>
</div>
</div>
<p>Alle Items wurden genau 3 Mal gelöst. Es sollten also alle Items den gleichen Schwierigkeitsparameter erhalten. In Fortsetzung der Lösung der vorherigen Aufgabe, können wir nun noch die Itemparameter extrahieren.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fu">coef</span>(rasch) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>beta I1 beta I2 beta I3 beta I4 beta I5 beta I6 
      0       0       0       0       0       0 </code></pre>
</div>
</div>
<p>Auch das ist der Fall. <span class="math inline">\(\beta_j = 0\)</span> für alle <span class="math inline">\(1 \le j \le 6\)</span>.</p>
</div>
</div>
</div>
<p>In der Abbildung sieht man die ICCs von zwei einfachen Items (rot; Items <span class="math inline">\(1\)</span> und <span class="math inline">\(2\)</span>) und zwei schwierigen Items (blau, Items <span class="math inline">\(3\)</span>, und <span class="math inline">\(4\)</span>) in einem Rechentest. Eine Person A, die nur Items <span class="math inline">\(1\)</span> und <span class="math inline">\(2\)</span> löst, erhält im Rasch-Modell den gleichen Fähigkeitsschätzer, wie eine Person B, die nur Items <span class="math inline">\(3\)</span> und <span class="math inline">\(4\)</span> löst.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Die Items sind:</p>
<p>Item <span class="math inline">\(1\)</span>: <span class="math inline">\(4 \cdot 5 =\)</span></p>
<p>Item <span class="math inline">\(2\)</span>: <span class="math inline">\(6 \cdot 8 =\)</span></p>
<p>Item <span class="math inline">\(3\)</span>: <span class="math inline">\(\sqrt{25} \pi =\)</span></p>
<p>Item <span class="math inline">\(4\)</span>: <span class="math inline">\(exp(0) - log(20) =\)</span></p>
<div class="callout-aufgabe">
<p>Wie bewerten Sie den folgenden Dialog zwischen den beiden Diagnostiker:innen Betti und Joe?</p>
<p>Betti: <em>Es kann nicht sein, dass Personen A und B die gleichen Fähigkeitsschätzer erhalten. Person A hätte Items <span class="math inline">\(3\)</span> und <span class="math inline">\(4\)</span> niemals lösen können. Es wäre unfair, Personen A und B gleich zu bewerten.</em></p>
<p>Joe: <em>Die Summenscores sind suffiziente Statistiken für die Personenfähigkeiten. Es ist nunmal eine mathematische Konsequenz des Rasch-Modells, dass beide Personen gleich fähig sind. Daran können wir nichts ändern, auch wenn es kontraintuitiv erscheint.</em></p>
</div>
</section>
<section id="lokale-stochastische-unabhängigkeit" class="level3">
<h3 class="anchored" data-anchor-id="lokale-stochastische-unabhängigkeit">Lokale Stochastische Unabhängigkeit</h3>
<section id="unabhängige-münzwürfe" class="level4">
<h4 class="anchored" data-anchor-id="unabhängige-münzwürfe">Unabhängige Münzwürfe</h4>
<div class="callout-aufgabe">
<p>Die Wahrscheinlichkeit, dass ein Wurf von Münze A Kopf ergibt, ist <span class="math inline">\(0.5\)</span>. Die Wahrscheinlichkeit, dass ein Wurf von Münze B Kopf ergibt, ist <span class="math inline">\(0.7\)</span>. Zeichnen Sie einen Entscheidungsbaum für alle möglichen Ereignissenkombination der Münzwürfe A und B. Berechnen Sie anschließend die Wahrscheinlichkeiten aller möglichen Kombinationen von Münzwürfen A und B unter der Annahme, dass die Münzwürfe unabhängige Ereignisse sind. Sie können den Münzwurf A als Zufallsvariable <span class="math inline">\(X_1\)</span> und den Münzwurf B als Zufallsvariable <span class="math inline">\(X_2\)</span> auffassen.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="images/p1.png" class="img-fluid"></p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Was hat die Formel zur gemeinsamen Wahrscheinlichkeit unabhängiger Ereignisse aus den grundlegenden Rechenkompetenzen mit der Aufgabe zum Münzwurf zu tun?</p>
<p><span class="math display">\[\begin{equation}
    P(A \cap B) = P(A)P(B)
\end{equation}\]</span></p>
<p>genutzt?</p>
<p><span class="math inline">\(A\)</span>: Ereignis <span class="math inline">\(A\)</span></p>
<p><span class="math inline">\(B\)</span>: Ereignis <span class="math inline">\(B\)</span></p>
<p><span class="math inline">\(\cap\)</span>: Schnittmenge zweier Ereignisse</p>
</div>
</section>
<section id="unabhängige-itemantworten" class="level4">
<h4 class="anchored" data-anchor-id="unabhängige-itemantworten">Unabhängige Itemantworten</h4>
<p>Aus der Vorlesung wissen Sie, dass die lokale stochastische Unabhängigkeit gegeben ist, wenn gilt:</p>
<p><span class="math display">\[\begin{equation}
    P(U_1 = u_1, ..., U_m = u_m | \theta) = \prod_{j = 1}^{m} P(U_j = u_j |&nbsp;\theta)
\end{equation}\]</span></p>
<div class="callout-aufgabe">
<p>Auf Basis der diagnostischen Rechenkompetenzen und der Sitzung zu Datenmatrizen haben Sie ausreichend Vorwissen, um die Formel zur lokalen stochastischen Unabhängigkeit vollständig nachzuvollziehen. Verbalisieren Sie die Formel von links nach rechts und Symbol für Symbol.</p>
<p>Tipp: Die Kommata in der ersten Klammer können Sie als “und” lesen. Also “<span class="math inline">\(U_1 = u_1\)</span> und … und <span class="math inline">\(U_m = u_m\)</span>”.</p>
</div>
<div class="callout-aufgabe">
<p>Erklären Sie, wie die Formel zur gemeinsamen Wahrscheinlichkeit unabhängiger Ereignisse und zur lokalen stochastischen Unabhängigkeit miteinander im Zusammenhang stehen.</p>
</div>
<p>Eine Person bearbeitet einen Test mit zwei binären Items. Der Antwortvektor der Person enthält daher zwei Elemente, <span class="math inline">\([U_{1}, U_{2}]\)</span>. Mögliche Realisationen des Antwortvektors sind <span class="math inline">\([0, 0]\)</span> (beide Items nicht gelöst), <span class="math inline">\([1, 0]\)</span> (erstes Item gelöst), <span class="math inline">\([0, 1]\)</span> (zweites Items gelöst), <span class="math inline">\([1, 1]\)</span> (beide Items gelöst).</p>
<div class="callout-aufgabe">
<p>Zeichnen Sie analog zum Münzwurf einen Entscheidungsbaum für die möglichen Realisationen des Antwortvektors. Verwenden Sie dafür die folgenden Beschriftungen:</p>
<ul>
<li><span class="math inline">\(P(U_1 = 0 | \theta)\)</span></li>
<li><span class="math inline">\(P(U_1 = 0 | \theta)\)</span></li>
<li><span class="math inline">\(P(U_2 = 1 | \theta)\)</span></li>
<li><span class="math inline">\(P(U_2 = 1 | \theta)\)</span></li>
</ul>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><img src="images/p2.png" class="img-fluid"></p>
</div>
</div>
</div>
</section>
<section id="likelihood-von-antwortvektoren" class="level4">
<h4 class="anchored" data-anchor-id="likelihood-von-antwortvektoren">Likelihood von Antwortvektoren</h4>
<div class="callout-aufgabe">
<p>Die beiden Items aus der vorherigen Aufgabe haben die Itemschwierigkeiten <span class="math inline">\(\beta_1 = 0\)</span> und <span class="math inline">\(\beta_2 = -1\)</span>. Eine Person hat eine Fähigkeit von <span class="math inline">\(\theta = 0\)</span>. Berechnen Sie die Wahrscheinlichkeit des Antwortvektors <span class="math inline">\([1, 0]\)</span> für diese Person mit Hilfe des Rasch Modells.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Gegeben:</p>
<p><span class="math inline">\(\beta_1 = 0\)</span>, <span class="math inline">\(\beta_2 = -1\)</span>, <span class="math inline">\(\theta = 0\)</span></p>
<p>Gesucht:</p>
<p><span class="math inline">\(P(U_1 = 1 \cap U_2 = 0 | \theta)\)</span></p>
<p><span class="math inline">\(= P(U_1 = 1 | \theta) \cdot P(U_2 = 0 | \theta)\)</span> (Unter Annahme lokaler stochastischer Unabhängigkeit)</p>
<p><span class="math inline">\(\approx .13\)</span> (Durch Einsetzen in das Rasch-Modell)</p>
<p>Mit <code>teachIRT</code>:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> teachIRT<span class="sc">::</span><span class="fu">p_rasch</span>(<span class="at">theta =</span> <span class="dv">0</span>, <span class="at">beta =</span> <span class="dv">0</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">-</span> teachIRT<span class="sc">::</span><span class="fu">p_rasch</span>(<span class="at">theta =</span> <span class="dv">0</span>, <span class="at">beta =</span> <span class="sc">-</span><span class="dv">1</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>p1<span class="sc">*</span>p2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.1344707</code></pre>
</div>
</div>
<p>Tipp: Die (Nicht-)Lösewahrscheinlichkeit eines Items ist im Rasch-Modell genau dann <span class="math inline">\(0.5\)</span>, wenn <span class="math inline">\(\theta = \beta\)</span> ist. Diesen Fall müssen Sie also nicht separat im Taschenrechner eingeben.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>In welchem Verhältnis stehen die Likelhood eines Antwortvektors im Rasch-Modell und die Formel zur lokalen stochastischen Unabhängigkeit?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Likelihood ist die Wahrscheinlichkeit der Daten gegeben der Parameter. Die Formel zur stochastischen Unabhängigkeit ist also eigentlich die Likelihood eines Antwortvektors im Rasch-Modell.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Erweitern Sie die rechte Seite der Formel der Likelihood eines Antwortvektors im Rasch-Modell zu einer Formel für die Likelihood der gesamten Datenmatrix im Rasch-Modell.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math display">\[\begin{equation}
    \prod_{i = 1}^{n} \prod_{j = 1}^{m} P(U_{ij} = u_{ij} |&nbsp;\theta_i)
\end{equation}\]</span></p>
</div>
</div>
</div>
</section>
<section id="abschlussfrage-zur-lokalen-stochastischen-unabhängigkeit" class="level4">
<h4 class="anchored" data-anchor-id="abschlussfrage-zur-lokalen-stochastischen-unabhängigkeit">Abschlussfrage zur lokalen stochastischen Unabhängigkeit</h4>
<p>Die folgende Frage ist eher schwierig und gut geeignet, in einer Lerngruppe diskutiert zu werden.</p>
<div class="callout-aufgabe">
<p>Begründen Sie, warum die folgende Aussage falsch ist:</p>
<blockquote class="blockquote">
<p>Wenn man mehrere Items <span class="math inline">\(j = 1, ..., m\)</span> zur Messung eines latenten Konstrukts im Rasch-Modell verwenden möchte, sollten die Spaltenvektoren der Datenmatrix, <span class="math inline">\(\textbf{u}_{.1}, ..., \textbf{u}_{.j}, ..., \textbf{u}_{.m}\)</span>, paarweise möglichst unkorreliert sein, um die Annahme der lokalen stochastischen Unabhängigkeit nicht zu verletzen.</p>
</blockquote>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled" title="Tipp">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Intuitiv muss die Aussage falsch sein: Wenn man mit <span class="math inline">\(m\)</span> Items tatsächlich ein gemeinsames Konstrukt misst, werden Itemantworten (also die Spaltenvektoren) miteinander korrelieren. Stellen Sie sich zum Beispiel vor, es würde sich um <span class="math inline">\(m = 2\)</span> Offenheits-Items handeln. Sicherlich werden die Antworten auf zwei Items “Ich mag Gedichte” und “Ich glaube, dass Kunst wichtig ist.” sehr hoch miteinander korrelieren, denn sie messen das gleiche Konstrukt. Die Rohdaten sind also, entgegen der Behauptung, mit hoher Wahrscheinlichkeit paarweise korreliert.</p>
<p>Denken Sie von hier aus weiter: Wie könnte man unter Einbezug des Rasch-Modells eine Form der Unabhängigkeit einführen?</p>
</div>
</div>
</div>
</section>
</section>
<section id="interpretation-des-rasch-modells" class="level3">
<h3 class="anchored" data-anchor-id="interpretation-des-rasch-modells">Interpretation des Rasch-Modells</h3>
<p>In der Vorlesung haben Sie die Anwendung des Rasch-Modells anhand eines Algebratests kennengelernt. In der folgenden Aufgabe wurden ebenfalls die Ergebnisse eines Mathetests mit einem Rasch-Modell analysiert.</p>
<p>Der Mathetest mit 20 Items wurde einer Stichprobe von 500 Testand:innen vorgegeben. Um die Passung der Items zu Testand:innenpopulation zu beurteilen, wurde ein Rasch-Modell mit dem R-Paket eRm geschätzt. Der Befehl zum Schätzen des Rasch-Modells mit dem Paket eRm heißt RM(). Die default Einstellungen der Argumente des Befehls wurden nicht überschrieben. Im Folgenden finden Sie eine Übersicht der R-Outputs der Analyse.</p>
<p>Die ersten Zeilen der Datenmatrix anzeigen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(responses)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10] [,11] [,12] [,13] [,14]
[1,]    0    1    0    1    1    1    1    1    0     0     1     0     0     1
[2,]    1    1    1    1    1    1    1    1    0     1     1     0     0     0
[3,]    1    1    1    1    1    1    1    1    1     1     1     1     1     1
[4,]    1    1    1    0    1    1    1    1    0     1     1     0     1     1
[5,]    1    1    0    1    1    1    0    1    1     1     1     0     0     1
[6,]    1    1    1    0    1    1    1    1    1     1     1     1     1     1
     [,15] [,16] [,17] [,18] [,19] [,20]
[1,]     1     1     1     1     1     1
[2,]     1     1     1     1     1     1
[3,]     1     1     0     1     1     1
[4,]     1     1     1     0     1     1
[5,]     1     1     1     1     1     1
[6,]     1     1     1     1     1     1</code></pre>
</div>
</div>
<p>Das Rasch-Modell schätzen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(eRm)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>rasch <span class="ot">&lt;-</span> <span class="fu">RM</span>(responses)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Itemparameter anzeigen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span><span class="fu">coef</span>(rasch) <span class="sc">|&gt;</span> <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> beta I1  beta I2  beta I3  beta I4  beta I5  beta I6  beta I7  beta I8 
   -0.27    -0.71     1.15     1.12    -1.46     0.28    -0.34    -1.87 
 beta I9 beta I10 beta I11 beta I12 beta I13 beta I14 beta I15 beta I16 
    0.21     0.30     0.14     0.38     1.21     0.65    -0.42    -0.50 
beta I17 beta I18 beta I19 beta I20 
    0.00     0.72    -0.66     0.05 </code></pre>
</div>
</div>
<p>Personenparameter anzeigen:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">person.parameter</span>(rasch)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Person Parameters:

 Raw Score    Estimate Std.Error
         5 -1.23500913 0.5489663
         6 -0.95007794 0.5202698
         7 -0.69012523 0.5006537
         8 -0.44640489 0.4876778
         9 -0.21264923 0.4800182
        10  0.01594931 0.4770026
        11  0.24376811 0.4784114
        12  0.47519467 0.4844354
        13  0.71490156 0.4957207
        14  0.96894149 0.5135911
        15  1.24582921 0.5405160
        16  1.55890515 0.5812633
        17  1.93255540 0.6461145
        18  2.42039459 0.7621342
        19  3.19268581 1.0382662
        20  4.03400309        NA</code></pre>
</div>
</div>
<p>Person-Item Map plotten:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotPImap</span>(rasch)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="rasch_modell_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Installieren Sie ggf. das Paket eRm in R (siehe Software und Literatur) und entnehmen Sie der help-File des Befehls RM(), wie die latente Skala im Paket identifiziert wird.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>?eRm<span class="sc">::</span><span class="fu">RM</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout-aufgabe">
<p>Welches Item des Tests ist am leichtesten? Welches Item des Tests ist am schwierigsten?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-25-contents" aria-controls="callout-25" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-25-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I8 ist am leichtesten.</p>
<p>I13 ist am schwierigsten.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Was ist der Mittelwert der Itemparameter? Warum?</p>
</div>
<div class="callout callout-style-simple callout-none no-icon callout-titled" title="Tipp">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon no-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tipp
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Der Mittelwert der Itemparameter mit der Modellidentifikation auf einen arbiträren Wert der <span class="math inline">\(\theta\)</span>-Achse festgelegt. Überprüfen Sie noch einmal <code>?eRm::RM()</code>.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Beurteilen Sie die Passung der Items zu den Testand:innen.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-27-contents" aria-controls="callout-27" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-27" class="callout-27-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Die Items liegen auf der latenten Skala links der Verteilung der Personenparameter. Wie schwierig Items für Proband:innen sein sollten hängt auch vom Testzweck ab. Wenn das Ziel wäre, die maximale Information über die Personen zu gewinnen, wären die Items eher zu leicht.</p>
<p>Später in der Veranstaltung lernen Sie das Konzept der statistischen Information genauer kennen. Für’s Erste reicht die Intuition, dass ein Item dann am informativsten ist, wenn Sie vorab nicht wissen, ob die Person das Item lösen oder nicht lösen wird. Im Idealfall geben Sie einer Person mit einem gegebenen <span class="math inline">\(\theta\)</span> ein Rasch-skaliertes Item mit <span class="math inline">\(\beta = \theta\)</span> vor.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Es wurden 500 Testand:innen gemessen. Warum hat die Tabelle der Personenparameter nur 16 Zeilen?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Weil die Summenscores suffiziente Statistiken für die Personenfähigkeiten sind. Es reicht aus für jeden einzigartigen Summenscore eine Personenfähigkeit anzugeben.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Lesen Sie den geschätzten Personenparameter einer Person mit 10 richtig gelösen Items ab.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-29-contents" aria-controls="callout-29" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-29" class="callout-29-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math inline">\(0.02\)</span></p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Welche besondere Bedeutung hat der Personenparameter von 0 in diesem Fall?</p>
</div>
<div class="callout-aufgabe">
<p>Warum fehlt der Wert Std.Error in der letzten Zeile?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-30-contents" aria-controls="callout-30" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-30" class="callout-30-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Für Personen, die alle Items gelöst haben, kann kein Standardfehler berechnet werden, da die Person theoretisch unendlich fähig sein könnte.</p>
</div>
</div>
</div>
<div class="callout-aufgabe">
<p>Die Daten der Aufgabe sind keine empirischen Daten. Sie wurden simuliert mit <span class="math inline">\(\beta \sim N(-1.5, 1)\)</span> und <span class="math inline">\(\theta \sim N(0, 1)\)</span>. Warum sind die geschätzten Personenparameter linksschief verteilt, obwohl sie in der Population einer Standardnormalverteilung folgen?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled" title="Lösung">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-31-contents" aria-controls="callout-31" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-31" class="callout-31-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Es handelt sich um einen Deckeneffekt. Da die Verteilung der Personenparameter auf der latenten Dimension über der Verteilung der Itemparameter liegt, gibt es einen oberen Fähigkeitsbereich, in dem der Test nicht mehr zwischen Personen diskriminieren kann. Diese Personen erhalten gemeinsam einen hohen Personenparameter.</p>
</div>
</div>
</div>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>