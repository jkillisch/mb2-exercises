{"title":"Rechenkompetenzen der Diagnostik","markdown":{"headingText":"Rechenkompetenzen der Diagnostik","containsRefs":false,"markdown":"\nBelastbare psychologische Diagnostik ist an vielen Stellen auf diagnostische Rechenkompetenzen angewiesen. Im Folgenden werden einige dieser Kompetenzen geübt.\n\n## Ablesen und Berechnen von Normwerten\n\n### Aufgaben mit der BDI-II Norm\n\nTestwerte lassen sich durch den Vergleich mit einer Normstichprobe interpretieren. Im einfachsten Fall liegen dafür Normtabellen vor. Im Folgenden finden Sie den Auszug einer Normtabelle für den BDI-II:\n\n![](images/bdi_norm.png)\n\nRoelofs, J., Van Breukelen, G., De Graaf, L. E., Beck, A. T., Arntz, A., \\& Huibers, M. J. H. (2013). Norms for the Beck Depression Inventory (BDI-II) in a large dutch community sample. \\textit{Journal of Psychopathology and Behavioral Assessment}, 35(1), 93–98. https://doi.org/10.1007/s10862-012-9309-2\n\n#### Werte ablesen\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\nIn einer Studie wird der Zusammenhang zwischen Schlafgewohnheiten und depressiven Symptomen untersucht. In einer Subanalyse soll auf die Bevölkerung der $40\\%$ betroffensten Frauen mit hohen Bildungsabschlüssen rückgeschlossen werden. Ob eine Person mit in die Analyse mit aufgenommen wird, soll anhand ihres BDI-II Scores entschieden werden. Ab welchem BDI-II Score sollte eine Frau mit hohem Bildungsabschluss in die Analyse aufgenommen werden?\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\nPersonen mit einem BDI-II Score $>7$ sollten in die Analyse mit aufgenommen werden.\n\n:::\n\n#### Rohwerte transformieren\n\nEs gibt verschiedene Normwerteverteilungen (z, IQ, T, SW, etc.), die anhand von Mittelwert und Standardabweichungen definiert sind. Wenn Mittelwert und Standardabweichung der Testwerte in einer Normstichprobe bekannt sind, können die Testwerte entsprechend normiert werden.\n\n| Normbezeichnung       | Transformation                                    |\n|-----------------------|--------------------------------------------------|\n| z-Skala               | $z_i = \\frac{x_i - \\overline{x}}{SD(x)}$         |\n| IQ-Abweichungsskala   | $IQ_i = 100 + 15 z_i$                            |\n| T-Werte               | $T_i = 50 + 10 z_i$                              |\n| Standardwerte         | $SW_i = 100 + 10 z_i$                            |\n| PISA-Skala            | $P_i = 500 + 100 z_i$                            |\n| Stanine-Normwert      | $S_i \\approx 5 + 2 z_i$                          |\n| Prozentrang           | $PR_i = 100 \\frac{freq_{\\text{cum}}(X_i)}{N}$    |\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\nEine Person erzielt einen Testwert von $36$. In der Normstichprobe weisen die Testwerte einen Mittelwert von $\\overline{x} = 31$ und eine Standardabweichung von $SD(x) = 5$ auf.\n\n(a) Welchen z-Wert hat die Person im Vergleich zur Normstichprobe?\n\n(b) Der z-Wert lässt sich anhand der Formeln in andere Normwerte transformieren. Welcher T-Wert ergibt sich daraus?\n\n:::\n\n::: {.callout-tip title=\"Lösung (a)\" collapse=\"true\"}\n\nGegeben:\n\n$x = 36$\n\n$\\overline{x} = 31$\n\n$SD(x) = 5$\n\nGesucht:\n\n$z = \\frac{x - \\overline{x}}{SD(x)} = \\frac{36 - 31}{5} = 1$\n\n:::\n\n::: {.callout-tip title=\"Lösung (b)\" collapse=\"true\"}\n\nGegeben:\n\n$z = 1$\n\nGesucht:\n\n$T = 50 + 10z = 50 + 10 = 60$\n\n:::\n\n### Prozentränge in R berechnen\n\nNutzen Sie den Code um die Daten der darunter folgenden Abbildung zu samplen.\n\n```{r}\nset.seed(101)\n\t\t\n# Daten samplen\nN <- 100\nx <- rnorm(N, 2, 5)\nx <- round(x)\n```\n\nHistogramm:\n\n```{r, echo = FALSE, fig.height = 3}\n\ndat <- as.data.frame(table(x))\nggplot2::ggplot(dat, ggplot2::aes(x = x, y = Freq)) +\n    ggplot2::geom_bar(stat = \"identity\") +\n    ggplot2::scale_y_continuous(breaks = 0:100) +\n    ggplot2::theme_bw()\n\n```\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\nBerechnen Sie die Prozentränge in R und überprüfen Sie Ihr Ergebnis anhand der Abbildung.\n\n:::\n\nProzentränge:\n\n```{r, echo = FALSE, fig.height = 3}\n\ndat <- dat |>\n  dplyr::mutate(\n    cumfreq = cumsum(Freq),\n    N = sum(Freq),\n    PR = cumfreq / N * 100\n  )\n\nggplot2::ggplot(dat, ggplot2::aes(x, PR, group = 1)) +\n  ggplot2::geom_line(color = \"black\") +\n  ggplot2::geom_point(color = \"black\") +\n  ggplot2::geom_text(ggplot2::aes(label = round(PR)), vjust = -0.7, size = 3) +\n  ggplot2::labs(x = \"X\", y = \"PR\") +\n  ggplot2::ylim(0, 105) +\n  ggplot2::theme_bw()\n\n```\n\n::: {.callout .callout-tipp title=\"Tipp\" collapse=true}\n\nSie benötigen die Funktionen `{{r}} table` und `{{r}} cumsum`.\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n```{r}\nset.seed(101)\n\t\t\n# Daten samplen\nN <- 100\nx <- rnorm(N, 2, 5)\nx <- round(x)\n\n# Prozentränge berechnen\ncumsum(table(x) / N)*100\n```\n\n:::\n\n### Normwerttransformation in einem Fallbeispiel\n\nDie Lesefähigkeit von Emilia wurde mit Hilfe eines validierten Leistungstests für Kinder erhoben. Um Emilias Leistung mit der Leistung von 9-Klässlerinnen in Rheinland-Pfälzer Gymnasien vergleichbar zu machen, wurde ihre Punktzahl von der leitenden Diagnostikerin zu einem $T$-Wert von $T = 56$ transformiert.\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\n(a) Berechnen Sie Emilias Leistung als IQ-Wert.\n\n(b) Berechnen Sie den Prozentrang von Emilia innerhalb ihrer Schulklasse. In der Abbildung finden Sie dazu Häufigkeiten der T-Normwerte der Schüler:innen in Emilias Klasse.\n\n:::\n\n```{r, fig.height = 3, echo = FALSE}\ndat <- data.frame(\n    x = c(47, 53, 54, 56, 58, 61, 64, 65, 72, 76, 77),\n    freq = c(1, 1, 2, 1, 1, 3, 2, 1, 1, 1, 1)\n)\n\nggplot2::ggplot(dat, ggplot2::aes(x = factor(x), y = freq, label = freq)) +\n    ggplot2::geom_bar(stat = \"identity\") +\n    ggplot2::geom_label() +\n    ggplot2::labs(x = \"T-Normwert im Leseleistungstest\", y = \"Freq\") +\n    ggplot2::theme_bw()\n\n```\n\n::: {.callout-tip title=\"Lösung (a)\" collapse=\"true\"}\n\nGegeben:\n\n$T = 56$\n\nGesucht:\n\n$IQ = 100 + 15z$\n\n$z = \\frac{T - 50}{10}$\n\nAlso $IQ = 100 + 15 \\cdot \\Big(\\frac{T - 50}{10}\\Big) = 109$\n\n:::\n\n::: {.callout-tip title=\"Lösung (b)\" collapse=\"true\"}\n\nGesucht:\n\n$PR = 100 \\cdot \\frac{freq_{cum}(x)}{N}$\n\n$x = 56$\n\nAbgelesen:\n\n$freq_{cum}(56) = 5$\n\n$N = 15$\n\nAlso $PR = 100 \\frac{5}{15} \\approx 33.33$\n\n:::\n\n### Erstellen einer Normtabelle\n\nDie nächste Aufgabe ist etwas länger als die anderen. Sie werden in diesem Abschnitt Daten in R simulieren und selbst eine Normtabelle für einen Test erstellen.\n\nStellen Sie sich vor, Sie hätten in einem Forschungsprojekt einen Test mit drei Items entwickelt - zum Beispiel ein Screening Instrument zur Detektion von Spinnenangst. $N = 1000$ Personen aus der Gesamtbevölkerung bewerteten die drei Items auf einer fünfstufigen Ratingskala (stimme nicht zu, stimme eher nicht zu, weder noch, stimme eher zu, stimme zu). Alle Items sind positiv gepolt.\n\nIhre Aufgabe wird es sein, anhand dieser Daten eine Normtabelle zu generieren, die nach Geschlecht (Mann, Frau, Divers) und fünf Altersbändern ([18, 25), [25, 35), [35, 45), [45, 55), [55, 65)) differenziert. Anwender:innen sollten anhand der Tabelle Summenscores in Standardwerte umwandeln können. Die folgenden Aufgaben leiten Sie schrittweise zu diesem Ergebnis.\n\nDer erste Schritt ist es, die Antworten der $N = 1000$ Versuchspersonen in Ihrer R-Session zu generieren. Da es sich um ein fiktives Beispiel handelt, können wir selbst Übungsdaten simulieren. Genau das ist Ihre erste Aufgabe.\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\nKopieren Sie den folgenden Code-Abschnitt in Ihre IDE (z.B. RStudio) und führen sie den Code vollständig aus. \n\n```{r}\n# Seed setzen\nset.seed(5546)\n\n# Anzahl der Personen\nN <- 1000\n\n# Anzahl der Items\nI <- 3\n\n# Geschlecht der Personen festlegen\ngeschlecht <- sample(\n  x = c(\"mann\", \"frau\", \"divers\"),\n  size = N, \n  replace = TRUE,\n  prob = c(0.46, 0.46, 0.08)\n  )\n\n# Altersgruppe der Personen festlegen\nalter <- sample(\n  x = c(\"[18, 25)\", \"[25, 35)\", \"[35, 45)\", \"[45, 55)\", \"[55, 65)\"),\n  size = N,\n  replace = TRUE,\n  prob = c(0.15, 0.25, 0.25, 0.20, 0.15)\n)\n\n# Fragebogenantworten simulieren\nU <- teachIRT::sim_pcm(n = N, m = I, m_star = 4) + 1\n\n# Fragebogenantworten und Datensatz mergen\ndat <- dplyr::bind_cols(\n  person = 1:N,\n  geschlecht = geschlecht,\n  alter = alter,\n  U\n  )\n\n# Oberste zehn Zeilen des Datensatzes anzeigen\ndat <- dplyr::as_tibble(dat)\nprint(dat)\n```\n\n:::\n\nNun sollten Sie in Ihrer R-Session auf den Datensatz `dat` zugreifen können. Da Sie zu Beginn mit dem Befehl `set.seed()` einen bestimmten Startwert für die Zufallsziehungen im Code-Abschnitt festlegen, sollten Sie, wenn Sie den Code-Abschnitt wiederholt vollständig ausführen auch immer wieder die gleichen Daten generieren.\n\nZuerst verschaffen wir uns einen Überblick über den Datensatz. Versuchen Sie Folgendes herauszufinden:\n\n::: {.callout-aufgabe}\n\na. Welche Variablen hat der Datensatz?\n\nb. Welche möglichen Werte haben die Variablen jeweils?\n\nc. Wie viele Zeilen hat der Datensatz?\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n**Welche Variablen hat der Datensatz?**\n\nUm das herauszufinden, kann man den Befehl `colnames(dat)` verwenden.\n\n```{r}\ncolnames(dat)\n```\n\n**Welche möglichen Werte haben die Variablen jeweils?**\n\n`dat$person` enthält natürliche Zahlen von $1$ bis $1000$ und kodiert, zu welcher Person eine Zeile jeweils gehört. Hier die ersten 10 Personen:\n\n```{r}\ndat$person[1:10]\n```\n\nDie möglichen Werte (und Häufigkeiten) der Geschlechtsvariable, `dat$geschlecht`, und der Altersvariable, `dat$alter`, können Sie sich so anzeigen:\n\n```{r}\ntable(dat$geschlecht)\ntable(dat$alter)\n```\n\nDie Variablen `dat$item_1` bis `dat$item_5` enthalten die Antworten auf die fünf Fragebogenitems:\n\n```{r}\ntable(dat$item_1)\ntable(dat$item_2)\ntable(dat$item_3)\n```\n\n**Wie viele Zeilen hat der Datensatz?**\n\nDafür können wir den Befehl `nrow()` verwenden.\n\n```{r}\nnrow(dat)\n```\n\n:::\n\n::: {.callout-aufgabe}\n\nWenn Sie der Struktur dieser Aufgabe folgen, werden Sie recht kleinschrittig zur fertigen Normtabelle geleitet. Überlegen Sie dennoch vorher selbst, welche Schritte Sie unternehmen müssten, um aus den simulierten Daten eine Tabelle zu erzeugen, die es Ihnen ermöglicht, jeden Rohwert in einen Standardwert zu transformieren.\n\n:::\n\n\nIm nächsten Schritt Berechnen Sie aus den Antworten auf die drei Items für jede Person einen Summenscore. Später in der Vorlesung und Übung werden Sie Alternativen zum Summenscore kennenlernen. Für diese Aufgabe wird es aber ausreichen, Test-Scores durch einfache Summen zu erzeugen.\n\n::: {.callout-aufgabe}\n\nErzeugen Sie eine neue Variable `dat$score` im Datensatz, indem Sie die Antworten auf die drei Items summieren.\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp\" collapse=true}\n\n```{r, eval=FALSE}\ndat$score <- ...\n```\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n```{r}\ndat$score <- dat$item_1 + dat$item_2 + dat$item_3\n```\n\n:::\n\nWenn wir nun den Datensatz anzeigen, ist die neue Variable `score` zu sehen:\n\n```{r}\nprint(dat)\n```\n\nIn den vorherigen Rechenaufgaben haben Sie verwendet, dass man einen Score in einen beliebigen Normwert transformieren kann, wenn man den Mittelwert und die Standardabweichung der Scores in Normstichprobe kennt. In der nächsten Aufgabe werden Sie daher Mittelwert und Standardabweichung für jede Kombination von Geschlecht und Altersbändern berechnen.\n\n::: {.callout-aufgabe}\n\nBerechnen Sie für jede Kombination von Geschlecht und Altersband einen mittleren Score und eine Standardabweichung der Scores. Das Ergebnis sollte ein `data.frame` (oder `tibble`) mit den Spalten `geschlecht`, `alter`, `score_mean` (Mittelwert in der Zelle), `score_sd` (Standardabweichung in der Zelle) sein. Nennen Sie den data.frame `dstats`.\n\n:::\n\nFür diesen Schritt können Sie auch die Lösung kopieren, falls Sie selten mit R arbeiten.\n\n::: {.callout .callout-tipp title=\"Tipp\" collapse=true}\n\n```{r, eval = FALSE}\n# Mittelwert\nm <- aggregate(score ~ geschlecht + ???, dat, mean)\n\n# Standardabweichung\ns <- aggregate(???, dat, ???)\n\n# Neu berechnete Spalten umbenennen\nnames(m)[3] <- \"score_mean\"\nnames(s)[3] <- \"score_sd\"\n\n# Zu dstats mergen\ndstats <- merge(???, s, by = c(???, \"alter\"))\n```\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n```{r}\n# Mittelwert\nm <- aggregate(score ~ geschlecht + alter, dat, mean)\n\n# Standardabweichung\ns <- aggregate(score ~ geschlecht + alter, dat, sd)\n\n# Neu berechnete Spalten umbenennen\nnames(m)[3] <- \"score_mean\"\nnames(s)[3] <- \"score_sd\"\n\n# Zu dstats mergen\ndstats <- merge(m, s, by = c(\"geschlecht\", \"alter\"))\n\n# Optional für schöneres Printing in tibble umwandeln:\ndstats <- dplyr::as_tibble(dstats)\n```\n\n:::\n\n::: {.callout .callout-tipp title=\"Exkurs\" collapse=true}\n\nWenn Sie planen noch lange mit R zu arbeiten, lohnt sich an dieser Stelle ein Blick in das [https://tidyverse.org/](tidyverse). Mit dem Paket `dplyr` gelangen Sie folgendermaßen an das gleiche Ziel:\n\n```{r, eval = FALSE}\nlibrary(dplyr)\n\ndstats <- dat |> \n\n  # Daten gruppieren\n  group_by(geschlecht, alter) |> \n\n  # Mittelwert und Standardabweichung berechnen\n  summarise(\n    score_mean = mean(score),\n    score_sd = sd(score),\n    .groups = \"drop\"\n    )\n```\n\nDie Denkweise beliebig zu gruppieren und dann Zeilen in Gruppen zusammenzufassen finde ich persönlich etwas angenehmer.\n\n:::\n\nDer resultierende `data.frame` sollte so aussehen:\n\n```{r}\nprint(dstats)\n```\n\nFür jede Kombination der Geschlechts- und Altersvariable können Sie nun den Score-Mittelwert und die Standardabweichung ablesen. Diese Information ist ausreichend, um Summenscores (/Rohwerte) in z-Werte und anschließend in Standardwerte umzuwandeln. Berechnen Sie vor der Erstellung der gesamten Tabelle ein einzelnes Wertebeispiel.\n\n::: {.callout-aufgabe}\n\nBerechnen Sie den Standardwert einer 32-jährigen Frau mit einem Summenscore von $4$.\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\nGegeben:\n\n$x_i = 4$ Summenscore\n\n$\\overline{x} = 9.44$ Score-Mittelwert in der Normstichprobe\n\n$SD(x) = 2.35$ Score-Standardabweichung in der Normstichprobe\n\nGesucht:\n\n$SW_i = 100 + 10 \\cdot z_i$ Standardwert\n\nBerechnung:\n\n$z_i = \\frac{x_i - \\overline{x}}{SD(x)} = \\frac{4 - 9.44}{2.35}$\n\n$SW_i = 100 + 10 \\cdot \\frac{4 - 9.44}{2.35}$\n\nMit dem Taschenrechner:\n\n```{r}\nz_i <- (4 - 9.44) / 2.35\nSW_i <- 100 + 10 * z_i\nprint(SW_i)\n```\n\nGerundet ergibt sich $SW_i \\approx 76.85$, ein weit unterdurchschnittlicher Wert.\n\n:::\n\nNun können wir uns an die gesamte Tabelle machen. Überlegen Sie dafür zuerst, welcher Wert der minimal erreichbare Summenscore und welcher der maximal erreichbare Summenscore wäre.\n\n::: {.callout-aufgabe}\n\nWas sind jeweils der minimal und maximal erreichbare Summenscore im Beispiel?\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\nDen kleinstmöglichen Wert erhalten Sie, wenn Sie in allen drei Items Kategorie $1$ wählen, also $1 + 1+ 1 = 3$.\n\nDen höchstmöglichen Wert erhalten Sie, wenn Sie in allen drei Items Kategorie $5$ wählen, also $5 + 5 + 5 = 15$.\n\nDie Spanne/Range der simulierten Summenscores spiegelt diese Überlegung wider:\n\n```{r}\nrange(dat$score)\n```\n\n:::\n\nWir benötigen also für jede Kombination von Geschlecht und Alter sowie jeden Summenscore zwischen 3 und 15 einen Standardwert. Um die Aufgabe etwas zu reduzieren, können Sie sich auf die möglichen Scores $8, 10, 12$ beschränken.\n\n::: {.callout-aufgabe}\n\nBerechnen Sie für jede Kombination von Geschlecht und Altersband den Standardwert der Summenscores $8$, $10$ und $12$.\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp\" collapse=true}\n\nBei dieser Aufgabe müssen Sie für jeden möglichen Summenscore ($8$, $10$, $12$) eine Spalte an `dstats` anfügen, die Standardwerte enthält.\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp: z-Werte für Rohwert 8\" collapse=true}\n\nAls Zwischenschritt ist es sinnvoll, zunächst z-Werte für jede Kombination von Geschlecht und Altersband zu berechnen. Das geht für einen Summenscore von $8$ so:\n\n```{r}\ndstats$z_8 <- (8 - dstats$score_mean)/dstats$score_sd\n```\n:::\n\n::: {.callout .callout-tipp title=\"Tipp: Standardwerte für Rohwert 8\" collapse=true}\n\nAls nächstes muss man die z-Werte mit der Formel $SW_i = 100 + 10 \\cdot z_i$ in Standardwerte transformieren. So geht das im Fall eines Summenscores von $8$:\n\n```{r, eval = FALSE}\ndstats$sw_8 <- 100 + 10*dstats$z_8\n```\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n```{r}\n# z-Werte berechnen\ndstats$z_8 <- (8 - dstats$score_mean)/dstats$score_sd\ndstats$z_10 <- (10 - dstats$score_mean)/dstats$score_sd\ndstats$z_12 <- (12 - dstats$score_mean)/dstats$score_sd\n\n# Standardwerte berechnen\ndstats$sw_8 <- 100 + 10*dstats$z_8\ndstats$sw_10 <- 100 + 10*dstats$z_10\ndstats$sw_12 <- 100 + 10*dstats$z_12\n\n# z-Wert wieder löschen\ndstats$z_8 <- NULL\ndstats$z_10 <- NULL\ndstats$z_12 <- NULL\n```\n:::\n\nDie fertige Normtabelle sollte etwa so aussehen:\n\n```{r}\nprint(dstats)\n```\n\n::: {.callout-aufgabe}\n\nLesen Sie zuletzt den Standardwert eines 45-jährigen Mannes mit einem Summenscore von 12 ab.\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n$111$\n\n:::\n\n::: {.callout-aufgabe}\n\nZu Beginn diser Aufgabe sollten Sie selbst überlegen, welche Schritte Sie unternehmen müssten, um aus den Daten eine Normtabelle zu erzeugen. Vergleichen Sie nun Ihre Erwartung mit den durchgeführten Schritten.\n\n:::\n\n## Sensitivität, Spezifität, ROC-Kurven, Youden-Index\n\nLeider sind Diagnosen nicht immer zutreffend. Es kann durchaus passieren, dass eine Person, die eigentlich geeignet wäre, als ungeeignet klassifiert wird. Genauso kann es passieren, dass eine Person, die eigentlich ungeeignet ist, als geeignet klassifiziert wird.\n\n### Tabelle aller möglichen Zustände\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\n(a) Erstellen Sie eine Tabelle aller möglichen Kombinationen aus wahren Zuständen ${\\text{geeignet}, \\text{ungeeignet}}$ und Diagnosen ${\\text{geeignet}, \\text{ungeeignet}}$.\n\n(b) Benennen Sie jede der vier Kombinationen. Verwenden Sie dazu die folgenden Begriffe:\n\t\n- Falsch positiv (FP)\n- Richtig positiv (RP)\n- Falsch negativ (FN)\n- Richtig negativ (RN)\n- False negative (FN)\n- False positive (FP)\n- True negative (TN)\n- True positive (TP)\n\n(c) Nehmen Sie an, dass eine Person mit einem Testwert $>20$ als geeignet eingestuft wird. Finden Sie einen beispielhaften Testwert für jeden der vier Zustände.\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp: Tabellengerüst\" collapse=true}\n\nSo soll die Tabelle am Ende aussehen:\n\n| Wahrer Zustand | Testwert Beispiel | Diagnose   | Prüfung [De] | Prüfung [Eng] |\n|----------------|-------------------|------------|--------------|---------------|\n|                |                   |            |              |               |\n|                |                   |            |              |               |\n|                |                   |            |              |               |\n|                |                   |            |              |               |\n\nJetzt fehlen noch die Werte.\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp: Teile von a. vorgeben\" collapse=true}\n\n| Wahrer Zustand | Testwert Beispiel | Diagnose   | Prüfung [De] | Prüfung [Eng] |\n|----------------|-------------------|------------|--------------|---------------|\n| Geeignet       |                   |            |              |               |\n|                |                   | Ungeeignet |              |               |\n| Ungeeignet     |                   |            |              |               |\n|                |                   | Ungeeignet |              |               |\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp: Teile von b. vorgeben\" collapse=true}\n\n| Wahrer Zustand | Testwert Beispiel | Diagnose   | Prüfung [De] | Prüfung [Eng] |\n|----------------|-------------------|------------|--------------|---------------|\n| Geeignet       |                   |            | RP           |               |\n|                |                   | Ungeeignet |              | FN            |\n| Ungeeignet     |                   |            |              |               |\n|                |                   | Ungeeignet |              |               |\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n: Tabelle aller Kreuzungen von wahren Zuständen und Diagnosen (dichotom)\n\n| Wahrer Zustand | Testwert Beispiel | Diagnose   | Prüfung [De] | Prüfung [Eng] |\n|----------------|------------------|------------|--------------|---------------|\n| Geeignet       | $21$             | Geeignet   | RP           | TP            |\n| Geeignet       | $20$           | Ungeeignet | FN           | FN            |\n| Ungeeignet     | $23$           | Geeignet   | FP           | FP            |\n| Ungeeignet     | $13$             | Ungeeignet | RN           | TN            |\n\n:::\n\n### Formeln für Sensivität und Spezifität\n\nErgänzen Sie die Formeln für die Sensitivität und Spezifität. Versuchen Sie es zuerst ohne die Vorlesungsfolien und überprüfen Sie dann Ihr Ergebnis.\n\n:::{.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\n$\\text{Sensitivität} = \\frac{RP}{? + ?}$\n\n$\\text{Spezifität} = \\frac{?}{? + RN}$\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\n$\\text{Sensitivität} = \\frac{RP}{RP + FN}$\n\n$\\text{Spezifität} = \\frac{RN}{FP + RN}$\n\n:::\n\n### Sensitivität und Spezifität in einem Beispiel berechnen\n\n::: {.callout-aufgabe title=\"Aufgabe: Runden auf zwei Nachkommastellen\"}\n\nEine Schule möchte einen neuen Test verwenden, um hochbegabte Schüler:innen frühzeitig zu identifizieren. Ein etablierter Intelligenztest wird als Vergleichsstandard zur Überprüfung der Testvorhersagen herangezogen. Die Testergebnisse für eine Stichprobe von 500 Kindern sind:\n\n| Urteil neuer Test   | Urteil etablierter Test | $n$  |\n|---------------------|--------------------------|------|\n| Hochbegabt          | Hochbegabt              | $10$ |\n| Hochbegabt          | Nicht hochbegabt        | $3$  |\n| Nicht hochbegabt    | Nicht hochbegabt        | $482$|\n| Nicht hochbegabt    | Hochbegabt              | $5$  |\n\nBerechnen Sie die Sensitivität und Spezifität des neuen Tests.\n\n::: \n\n::: {.callout .callout-tipp title=\"Tipp\" collapse=true}\n\nGegeben:\n\n$RP = ?$\n\n$FP = ?$\n\n$RN = ?$\n\n$FN = ?$\n\nGesucht:\n\nSensitivität $= \\frac{RP}{RP + FN} = ?$\n\nSpezifität $= \\frac{RN}{FP + RN} = ?$\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\nGegeben:\n\n$RP = 10$\n\n$FP = 3$\n\n$RN = 482$\n\n$FN = 5$\n\nGesucht:\n\nSensitivität $= \\frac{RP}{RP + FN} = \\frac{10}{10 + 5} \\approx .67$\n\nSpezifität $= \\frac{RN}{FP + RN} = \\frac{482}{3 + 482} \\approx .99$\n\n:::\n\n### Den Youden-Index berechnen\n\nDie Testwerte ungeeigneter Testpersonen sind normalverteilt mit $X_u \\sim N(-1.5, 3)$. Die Testwerte geeigneter Testpersonen sind normalverteilt mit $X_g \\sim N(4, 3)$. Eine Person wird als geeignet klassifiziert, wenn Sie einen Testwert $>3$ aufweist. In der Abbildung sehen Sie die Dichterverteilungen der Testwerte ungeeigneter und geeigneter Personen.\n\n```{r, echo = FALSE, fig.height = 3}\nlibrary(ggplot2)\n\nmu1 <- -1.5; s1 <- 3      # ungeeignet\nmu2 <-  4;   s2 <- 3      # geeignet\ncut  <-  3\n\nx  <- seq(-12, 15, length.out = 1000)\ny1 <- dnorm(x, mean = mu1, sd = s1)\ny2 <- dnorm(x, mean = mu2, sd = s2)\n\ndf1 <- data.frame(x, y = y1)\ndf2 <- data.frame(x, y = y2)\n\nribbon1 <- subset(df1, x <= cut)\nribbon2 <- subset(df2, x >= cut)\n\nggplot() +\n  # gelbe Fläche\n  geom_area(data = ribbon1, aes(x, y), \n            fill = \"gold\", alpha = 0.5) +\n  # blaue Fläche\n  geom_area(data = ribbon2, aes(x, y), \n            fill = \"steelblue\", alpha = 0.5) +\n  # Dichtelinien\n  geom_line(data = df1, aes(x, y), linewidth = 1.6, color = \"black\") +\n  geom_line(data = df2, aes(x, y), linewidth = 1.6, color = \"black\") +\n  # Cutoff\n  geom_vline(xintercept = cut, color = \"red3\", linewidth = 1.2) +\n  # Achsen & Theme\n  labs(x = \"X\", y = \"Dichte\") +\n  coord_cartesian(xlim = c(-12, 15), ylim = c(0, max(c(y1, y2)) * 1.05)) +\n  theme_minimal(base_size = 14) +\n  theme_bw()\n```\n\nDie gelb markierte Fläche umfasst $93\\%$ der Fläche unter der linken Verteilung. Die blau markierte Fläche umfasst $63\\%$ der Fläche unter der rechten Verteilung.\n\n::: {.callout-aufgabe}\n\nBerechnen Sie den Youden-Index.\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp 1\" collapse=true}\n\nGegeben:\n\n$RN = ?$\n\n$RP = ?$\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp 2\" collapse=true}\n\nGesucht:\n\nSensitivität $=?$\n\nSpezifität $=?$\n\nYouden-Index $=?$\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp 3\" collapse=true}\n\nGegeben:\n\n$RN = ?$\n\n$RP = ?$\n\nGesucht:\n\nSensitivität $= \\frac{RP}{FN + RP} = ?$\n\nSpezifität $= \\frac{RN}{FP + RN} = ?$\n\n$\\text{Youden-Index} = \\text{Sensitivität} + \\text{Spezifität} - 1 = ?$\n\n:::\n\n::: {.callout .callout-tipp title=\"Tipp 4: RN und RP vorgeben\" collapse=true}\n\nGegeben:\n\n$RN = .93$\n\n$RP = .63$\n\nGesucht:\n\nSensitivität $= \\frac{RP}{FN + RP} = ?$\n\nSpezifität $= \\frac{RN}{FP + RN} = ?$\n\n$\\text{Youden-Index} = \\text{Sensitivität} + \\text{Spezifität} - 1 = ?$\n\n:::\n\n::: {.callout-tip title=\"Lösung\" collapse=\"true\"}\n\nGegeben:\n\n$RN = .93$\n\n$RP = .63$\n\nGesucht:\n\nSensitivität $= \\frac{RP}{FN + RP} = \\frac{.63}{(1-.63) + .63} = .63$\n\nSpezifität $= \\frac{RN}{FP + RN} = \\frac{.93}{(1-.93) + .93} = .93$\n\n$\\text{Youden-Index} = \\text{Sensitivität} + \\text{Spezifität} - 1 = .63 + .93 - 1 = .56$\n\n:::\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../styles.css"],"toc":true,"output-file":"rechenkompetenzen_diagnostik.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.32","theme":["sandstone"]},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}